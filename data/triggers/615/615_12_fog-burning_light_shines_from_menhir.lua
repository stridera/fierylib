-- Trigger: Fog-burning light shines from menhir
-- Zone: 615, ID: 12
-- Type: WORLD, Flags: GLOBAL
-- Status: CLEAN
--
-- Original DG Script: #61512

-- Converted from DG Script #61512: Fog-burning light shines from menhir
-- Original: WORLD trigger, flags: GLOBAL, probability: 100%
wait(5)
get_room(615, 47):at(function()
    self.room:send("With a burst of blinding light, a fiery wisp heart begins to shine!")
end)
get_room(615, 47):at(function()
    self.room:send("Bright <yellow>or<red>an<yellow>ge</> rays of light shoot northward, burning away the fog.")
end)
get_room(615, 48):at(function()
    self.room:send("Bright rays of blinding orange light shine in from the south!")
end)
get_room(615, 48):at(function()
    self.room:send("The fog cannot withstand the light, and quickly dissipates.")
end)
doors.set_flags(get_room(615, 48), "north", "abe")
doors.set_state(get_room(615, 48), "north", {action = "room"})
doors.set_name(get_room(615, 48), "north", "slab")
doors.set_description(get_room(615, 48), "north", "A massive carved slab with a small panel lies against the hillside.")
doors.set_flags(get_room(615, 53), "south", "abcde")
doors.set_state(get_room(615, 53), "south", {action = "room"})
doors.set_name(get_room(615, 53), "south", "slab")
doors.set_description(get_room(615, 53), "south", "A smooth, featureless slab covers the south exit.")
wait(4)
get_room(615, 47):at(function()
    self.room:find_actor("spark-pixie"):emote("gazes up at a fiery wisp heart, mesmerized.")
end)
wait(6)
get_room(615, 47):at(function()
    self.room:send("Small wisps of fog try to drift in to the north, but are burned away.")
end)
get_room(615, 48):at(function()
    self.room:send("Small wisps of fog try to drift in, but are burned away.")
end)
wait(9)
get_room(615, 47):at(function()
    self.room:send("The fog is still flowing into the area to the north, but it cannot survive the light.")
end)
get_room(615, 48):at(function()
    self.room:send("The fog is still flowing in, but it cannot survive the light.")
end)
wait(15)
get_room(615, 47):at(function()
    self.room:send("The reddish-orange light of a fiery wisp heart is beginning to fade.")
end)
get_room(615, 48):at(function()
    self.room:send("The reddish-orange light from the south is beginning to fade.")
end)
wait(15)
get_room(615, 47):at(function()
    self.room:send("The fog is starting to thicken again as the light from the obelisk fades.")
end)
get_room(615, 48):at(function()
    self.room:send("The fog is starting to thicken again as the light from the south fades.")
end)
wait(9)
get_room(615, 47):at(function()
    self.room:send("The light of a fiery wisp heart finally blinks out.")
end)
get_room(615, 48):at(function()
    self.room:send("The fog drifts back into the area.")
end)
get_room(615, 53):at(function()
    self.room:send("With a low groaning sound, the slab to the south rises up and blocks the exit.")
end)
doors.set_state(get_room(615, 48), "north", {action = "purge"})
doors.set_state(get_room(615, 53), "south", {action = "purge"})